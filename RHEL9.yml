---
- name: A simple playbook to configure a host
  hosts: rhel9
  vars:
    services:
      - cockpit
      - firewalld
      - httpd
  tasks:
    - name: Register system in Red hat with org ID and activation key
      community.general.redhat_subscription:
        state: present
        org_id: 11009103
        activationkey: Nassri-123
    - name: install services 
      ansible.builtin.package:
        name: "{{ services }}"
        state: present
    - name: Configure dns server  8.8.8.8 no systemd 
      ansible.builtin.lineinfile:
        path: /etc/resolv.conf
        line: nameserver 8.8.8.8
        state: present
    - name: configure hostname to server1.demo.local  
      ansible.builtin.hostname:
        name: server1.demo.local







    
  

    

    





  














    


      
    
